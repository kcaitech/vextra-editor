· 设定移动模式
    linear(线性[普通]模式): 多图层、线性位移、迁移、对齐吸附、Alt、Shift、滚轮；

· 滚轮

· 点击时，记录每个图层的初始状态；

· Alt 操作：shapes:[]、baseShapes[]、cloneShapes[]、coping
    · 拖拽过程中，任意时刻按下/抬起Alt都会交换图层。
      如果开始拖动前已经按下Alt，则在拖动开始时拷贝一份新的数据[clone]，将原来选中的图层作为基数据[base]，将新的数据赋值给shapes，并开始拖动shapes。
      拖动shapes过程中，如果抬起Alt(此时基数据一定有值)，此时将基数据的图层移动到当前图层的位置上，并将当前图层[shapes]从文档中移除，此时将base填入空的shapes中。
      再次按下Alt(此时的shapes一定为基数据)，将会重新拷贝一份数据[clone]，根据基数据将shapes的位置还原，并把clone作为shapes；
      在上述过程中需要注意实例的拷贝和还原；

· 鼠标hover

· 自动布局内元素操作，包括旋转、缩放

· 如果多选图层中包含了虚拟图层，需要把虚拟图层冒泡的其最近实体上，并将该实体替换到选区

· 如果多选图层中既包含了自动布局内的图层，也包含了其他自由图层，则将选区过滤为自由图层选区

· 除了拖动调整位置，还需要处理键盘方向键事件

. 如何处理移动模式的切换？
    固定模式：选区内同时存在自动布局、自由图层，固定模式无法进出其他模式；

    线性模式：选区内只存在非自动布局图层；
    预插入模式：一般由线性模式的状态下进入自动布局区域
    自动布局模式：在自动布局区域内移动；
    线性模式状态下进入自动布局区域需要判断是否为回位操作，如果是则进入自动布局模式，否则才是预插入模式

    切换模式的时机：
        初始化模式
        进出容器
        Flex模式中drawn、revert

· 方向键事件
· Alt操作；
· 图层处于容器上面，移动图层；
· 返回起始容器；
· 切换模式时，在延时任务执行前已经进入了另一个模式，导致延时任务未能正常执行;
· 发生env切换之后，对相关的自动布局容器进行布局更新；
· 自动布局时，交换时机的判断；
· 自动布局中创建图层；
· 自动布局中使用钢笔；
· 按下空格，不允许进出图层；

todo list
· 自动布局时，虚线以及控件的绘制；--delete

extra
· 引导功能；