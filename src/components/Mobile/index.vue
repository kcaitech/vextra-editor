<template>
    <div class="container">
        <div class="header">
            <img :src="`data:image/svg+xml;base64,${base64}`" alt="logo">
        </div>
        <div class="main">
            <div v-if="activebnt !== 'about'" class="search">
                <div class="search-input">
                    <div class="s-header">
                        <svg-icon icon-class="search-icon2"></svg-icon>
                    </div>
                    <input type="text" :placeholder="t('system.placeholder')" @focus="router.push({ path: '/search' })">
                </div>
                <div class="notice" @click="router.push({ path: '/message' })">
                    <svg-icon icon-class="m-notice"></svg-icon>
                    <div class="num after" v-if="total > 0" :class="{ after: total > 99 }">{{ total > 99 ? 99 : total }}
                    </div>
                </div>
            </div>
            <div class="content" :style="{ height: activebnt !== 'about' ? 'calc(100% - 54px)' : '100%' }">
                <RouterView></RouterView>
            </div>
        </div>
        <div class="footer">
            <div class="bnt" :class="{ 'bnt-selct': activebnt === item.value }" v-for="(item, index) in bntdata"
                :key=index @click="changetab(item.value)">
                <div class="icon">
                    <svg-icon :icon-class="activebnt === item.value ? item.icon.select : item.icon.normal"></svg-icon>
                </div>
                <div class="label">{{ item.label }}</div>
            </div>
        </div>
    </div>
</template>

<script setup lang="ts">
import { computed, onMounted, onUnmounted, ref, watch } from 'vue';
import { router } from '@/router';
import { RouterView, useRoute } from 'vue-router';
import { useI18n } from 'vue-i18n'
import { storeToRefs } from 'pinia';
import { useMessage } from './message'
import {logo} from '@/assets/h-logo2.svg'
import { Base64 } from 'js-base64';

const Data = useMessage()
const { applynum, teamnum } = storeToRefs(Data)
const { getApplyFile, getApplyTeam, getApplyProject, getNoticeTeam, getNoticeProject } = Data
const { t } = useI18n()
const route = useRoute()
const activebnt = ref(route.name || 'home')
const base64=Base64.btoa('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1" width="180.0000457763672" height="34" viewBox="0 0 180.0000457763672 34"><g><g><path d="M8.743487252869606,4.3226585703125L5.542087252869606,13.5292995703125L12.030597252869606,13.5292995703125L17.800397252869605,30.1325095703125L11.269197252869606,30.1325095703125L5.520727252869606,13.5907095703125L0.08188395286960601,29.2318095703125C-0.07132874713039399,29.6724095703125,0.25582425286960603,30.1326095703125,0.722313252869606,30.1326095703125L45.37359725286961,30.1326095703125C45.840097252869604,30.1326095703125,46.167197252869606,29.6724095703125,46.01399725286961,29.2318095703125L37.35239725286961,4.3226585703125C37.25759725286961,4.0500355703125,37.0005972528696,3.8673095703125,36.71199725286961,3.8673095703125L26.822297252869607,3.8673095703125C26.533597252869605,3.8673095703125,26.276697252869607,4.0500345703125,26.181897252869607,4.3226585703125L23.047897252869607,13.3351995703125L19.913997252869606,4.3226585703125C19.819197252869607,4.0500355703125,19.562297252869605,3.8673095703125,19.273597252869607,3.8673095703125L9.383907252869607,3.8673095703125C9.095277252869606,3.8673095703125,8.838277252869606,4.0500345703125,8.743487252869606,4.3226585703125ZM28.609197252869606,29.5335095703125C28.620697252869608,29.4358095703125,28.610897252869606,29.3333095703125,28.575597252869606,29.2318095703125L23.115397252869606,13.5292995703125L29.578797252869606,13.5292995703125L35.348697252869606,30.1325095703125L28.817397252869608,30.1325095703125L28.609197252869606,29.5335095703125Z" fill-rule="evenodd" fill="#262626" fill-opacity="1"/></g><g><path d="M63.4693384375,7.8447058359375Q63.576418437499996,7.6305438359375,63.8708884375,7.6305438359375L67.5919984375,7.6305438359375Q67.7257984375,7.6305438359375,67.8194984375,7.7242408359375Q67.9131984375,7.8179358359375,67.9131984375,7.9517868359375L67.9131984375,26.0484818359375Q67.9131984375,26.1822818359375,67.8194984375,26.2759818359375Q67.7257984375,26.3696818359375,67.5919984375,26.3696818359375L63.7905784375,26.3696818359375Q63.6567284375,26.3696818359375,63.5630284375,26.2759818359375Q63.4693384375,26.1822818359375,63.4693384375,26.0484818359375L63.4693384375,14.564031835937499Q63.4693384375,14.456951835937499,63.4157984375,14.443561835937501Q63.3622584375,14.4301818359375,63.3087184375,14.5104918359375L61.4347984375,17.7764818359375Q61.327718437499996,17.990581835937498,61.2741784375,17.990581835937498Q61.2206384375,17.990581835937498,61.0867884375,17.7764818359375L59.2128784375,14.5104918359375Q59.1593384375,14.4301818359375,59.1057984375,14.4301818359375Q59.0522484375,14.4301818359375,59.0522484375,14.5372618359375L59.0522484375,26.0484818359375Q59.0522484375,26.1822818359375,58.9585584375,26.2759818359375Q58.8648584375,26.3696818359375,58.7310084375,26.3696818359375L54.9296404375,26.3696818359375Q54.7957894375,26.3696818359375,54.7020941375,26.2759818359375Q54.6083984375,26.1822818359375,54.6083984375,26.0484818359375L54.6083984375,7.9517868359375Q54.6083984375,7.8179358359375,54.7020941375,7.7242408359375Q54.7957894375,7.6305438359375,54.9296404375,7.6305438359375L58.677468437499996,7.6305438359375Q58.9451684375,7.6305438359375,59.0790184375,7.8447058359375L61.2206384375,11.7263918359375Q61.3009484375,11.8334718359375,61.3812584375,11.7263918359375L63.4693384375,7.8447058359375ZM75.14119843750001,26.5838818359375Q72.5443984375,26.5838818359375,71.0051984375,25.0846818359375Q69.4658984375,23.5855818359375,69.4658984375,21.042381835937498L69.4658984375,12.9578218359375Q69.4658984375,10.441411835937501,71.0051984375,8.9289018359375Q72.5443984375,7.4163818359375,75.14119843750001,7.4163818359375Q77.7110984375,7.4163818359375,79.2770984375,8.9289018359375Q80.8431984375,10.441411835937501,80.8431984375,12.9578218359375L80.8431984375,21.042381835937498Q80.8431984375,23.5855818359375,79.2770984375,25.0846818359375Q77.7110984375,26.5838818359375,75.14119843750001,26.5838818359375ZM75.14119843750001,22.7824818359375Q75.7300984375,22.7824818359375,76.0646984375,22.3675818359375Q76.3992984375,21.9525818359375,76.3992984375,21.2297818359375L76.3992984375,12.770421835937501Q76.3992984375,12.0476318359375,76.0646984375,11.6326918359375Q75.7300984375,11.2177518359375,75.14119843750001,11.2177518359375Q74.5521984375,11.2177518359375,74.2309984375,11.6326918359375Q73.9096984375,12.0476318359375,73.9096984375,12.770421835937501L73.9096984375,21.2297818359375Q73.9096984375,21.9525818359375,74.2309984375,22.3675818359375Q74.5521984375,22.7824818359375,75.14119843750001,22.7824818359375ZM87.7230984375,26.5838818359375Q86.09019843749999,26.5838818359375,84.8586984375,25.9547818359375Q83.6272984375,25.3256818359375,82.9446984375,24.1878818359375Q82.2619984375,23.0501818359375,82.2619984375,21.604581835937502L82.2619984375,20.7746818359375Q82.2619984375,20.6408818359375,82.3556984375,20.5471818359375Q82.44939843750001,20.453481835937502,82.5832984375,20.453481835937502L86.3310984375,20.453481835937502Q86.4649984375,20.453481835937502,86.5585984375,20.5471818359375Q86.65229843750001,20.6408818359375,86.65229843750001,20.7746818359375L86.65229843750001,21.3904818359375Q86.65229843750001,22.032881835937502,86.9601984375,22.407681835937503Q87.2680984375,22.7824818359375,87.74989843750001,22.7824818359375Q88.2317984375,22.7824818359375,88.53959843749999,22.4210818359375Q88.84749843750001,22.0596818359375,88.84749843750001,21.4974818359375Q88.84749843750001,20.881781835937502,88.3655984375,20.3865818359375Q87.88379843749999,19.891281835937498,86.4381984375,18.8472818359375Q85.0996984375,17.8835818359375,84.2429984375,17.1205818359375Q83.38639843749999,16.3576318359375,82.7706984375,15.219901835937499Q82.15489843750001,14.0821618359375,82.15489843750001,12.5830318359375Q82.15489843750001,11.0571318359375,82.83759843749999,9.8792418359375Q83.5201984375,8.7013518359375,84.7649984375,8.0588678359375Q86.0098984375,7.4163818359375,87.6160984375,7.4163818359375Q89.24909843750001,7.4163818359375,90.49389843750001,8.0722528359375Q91.7386984375,8.7281218359375,92.4212984375,9.9194018359375Q93.1039984375,11.1106718359375,93.1039984375,12.6633418359375L93.1039984375,13.3058318359375Q93.1039984375,13.439681835937499,93.0102984375,13.533371835937501Q92.9165984375,13.6270718359375,92.7826984375,13.6270718359375L89.0616984375,13.6270718359375Q88.9277984375,13.6270718359375,88.8340984375,13.533371835937501Q88.7403984375,13.439681835937499,88.7403984375,13.3058318359375L88.7403984375,12.5562618359375Q88.7403984375,11.9673218359375,88.4191984375,11.5925318359375Q88.09789843749999,11.2177518359375,87.6160984375,11.2177518359375Q87.1341984375,11.2177518359375,86.8396984375,11.5925318359375Q86.54529843750001,11.9673218359375,86.54529843750001,12.5830318359375Q86.54529843750001,13.2522918359375,87.0003984375,13.787691835937501Q87.45539843750001,14.3230918359375,88.84749843750001,15.3403618359375Q90.5339984375,16.598561835937502,91.39069843749999,17.3749018359375Q92.2472984375,18.1512818359375,92.7291984375,19.101581835937502Q93.2109984375,20.0518818359375,93.2109984375,21.3368818359375Q93.2109984375,23.7461818359375,91.6984984375,25.1650818359375Q90.18599843749999,26.5838818359375,87.7230984375,26.5838818359375ZM99.8767984375,26.5838818359375Q98.2437984375,26.5838818359375,97.0123984375,25.9547818359375Q95.7809984375,25.3256818359375,95.0982984375,24.1878818359375Q94.4156984375,23.0501818359375,94.4156984375,21.604581835937502L94.4156984375,20.7746818359375Q94.4156984375,20.6408818359375,94.50939843750001,20.5471818359375Q94.6030984375,20.453481835937502,94.7368984375,20.453481835937502L98.48479843749999,20.453481835937502Q98.6185984375,20.453481835937502,98.71229843750001,20.5471818359375Q98.8059984375,20.6408818359375,98.8059984375,20.7746818359375L98.8059984375,21.3904818359375Q98.8059984375,22.032881835937502,99.1138984375,22.407681835937503Q99.4216984375,22.7824818359375,99.9035984375,22.7824818359375Q100.38549843749999,22.7824818359375,100.6932984375,22.4210818359375Q101.0011984375,22.0596818359375,101.0011984375,21.4974818359375Q101.0011984375,20.881781835937502,100.5192984375,20.3865818359375Q100.0373984375,19.891281835937498,98.59189843749999,18.8472818359375Q97.2532984375,17.8835818359375,96.39669843749999,17.1205818359375Q95.5400984375,16.3576318359375,94.9242984375,15.219901835937499Q94.3085984375,14.0821618359375,94.3085984375,12.5830318359375Q94.3085984375,11.0571318359375,94.9912984375,9.8792418359375Q95.6738984375,8.7013518359375,96.9186984375,8.0588678359375Q98.16349843750001,7.4163818359375,99.7697984375,7.4163818359375Q101.40269843749999,7.4163818359375,102.64749843749999,8.0722528359375Q103.89239843749999,8.7281218359375,104.5749984375,9.9194018359375Q105.25759843750001,11.1106718359375,105.25759843750001,12.6633418359375L105.25759843750001,13.3058318359375Q105.25759843750001,13.439681835937499,105.1638984375,13.533371835937501Q105.0701984375,13.6270718359375,104.9363984375,13.6270718359375L101.2152984375,13.6270718359375Q101.0814984375,13.6270718359375,100.9877984375,13.533371835937501Q100.89409843749999,13.439681835937499,100.89409843749999,13.3058318359375L100.89409843749999,12.5562618359375Q100.89409843749999,11.9673218359375,100.5728984375,11.5925318359375Q100.25159843750001,11.2177518359375,99.7697984375,11.2177518359375Q99.28789843749999,11.2177518359375,98.99339843749999,11.5925318359375Q98.69889843749999,11.9673218359375,98.69889843749999,12.5830318359375Q98.69889843749999,13.2522918359375,99.15399843750001,13.787691835937501Q99.6090984375,14.3230918359375,101.0011984375,15.3403618359375Q102.6876984375,16.598561835937502,103.5442984375,17.3749018359375Q104.4009984375,18.1512818359375,104.8828984375,19.101581835937502Q105.36469843750001,20.0518818359375,105.36469843750001,21.3368818359375Q105.36469843750001,23.7461818359375,103.8521984375,25.1650818359375Q102.3396984375,26.5838818359375,99.8767984375,26.5838818359375ZM112.4855984375,26.3696818359375Q112.3516984375,26.3696818359375,112.2580984375,26.2759818359375Q112.1643984375,26.1822818359375,112.1643984375,26.0484818359375L112.1643984375,7.9517868359375Q112.1643984375,7.8179358359375,112.2580984375,7.7242408359375Q112.3516984375,7.6305438359375,112.4855984375,7.6305438359375L117.59869843749999,7.6305438359375Q120.1685984375,7.6305438359375,121.7212984375,9.0761318359375Q123.2739984375,10.5217218359375,123.2739984375,12.9042718359375L123.2739984375,21.0959818359375Q123.2739984375,23.4784818359375,121.7212984375,24.9240818359375Q120.1685984375,26.3696818359375,117.59869843749999,26.3696818359375L112.4855984375,26.3696818359375ZM116.6081984375,22.4344818359375Q116.6081984375,22.568281835937498,116.7420984375,22.568281835937498L117.4915984375,22.5415818359375Q118.0537984375,22.514781835937498,118.4285984375,22.0462818359375Q118.8033984375,21.5777818359375,118.8300984375,20.8014818359375L118.8300984375,13.1987518359375Q118.8300984375,12.3956418359375,118.45539843750001,11.913781835937499Q118.0805984375,11.4319118359375,117.46479843750001,11.4319118359375L116.7420984375,11.4319118359375Q116.6081984375,11.4319118359375,116.6081984375,11.5657618359375L116.6081984375,22.4344818359375ZM135.2669984375,11.1106718359375Q135.2669984375,11.2445218359375,135.1732984375,11.3382218359375Q135.07969843749999,11.4319118359375,134.9457984375,11.4319118359375L129.56499843749998,11.4319118359375Q129.4310984375,11.4319118359375,129.4310984375,11.5657618359375L129.4310984375,14.9388118359375Q129.4310984375,15.072661835937499,129.56499843749998,15.072661835937499L132.5096984375,15.072661835937499Q132.6435984375,15.072661835937499,132.7372984375,15.1663618359375Q132.8308984375,15.2600518359375,132.8308984375,15.3939018359375L132.8308984375,18.5795818359375Q132.8308984375,18.7133818359375,132.7372984375,18.807081835937502Q132.6435984375,18.9007818359375,132.5096984375,18.9007818359375L129.56499843749998,18.9007818359375Q129.4310984375,18.9007818359375,129.4310984375,19.034681835937498L129.4310984375,22.4344818359375Q129.4310984375,22.568281835937498,129.56499843749998,22.568281835937498L134.9457984375,22.568281835937498Q135.07969843749999,22.568281835937498,135.1732984375,22.6619818359375Q135.2669984375,22.7556818359375,135.2669984375,22.8895818359375L135.2669984375,26.0484818359375Q135.2669984375,26.1822818359375,135.1732984375,26.2759818359375Q135.07969843749999,26.3696818359375,134.9457984375,26.3696818359375L125.3084984375,26.3696818359375Q125.1746984375,26.3696818359375,125.0809984375,26.2759818359375Q124.9872984375,26.1822818359375,124.9872984375,26.0484818359375L124.9872984375,7.9517868359375Q124.9872984375,7.8179358359375,125.0809984375,7.7242408359375Q125.1746984375,7.6305438359375,125.3084984375,7.6305438359375L134.9457984375,7.6305438359375Q135.07969843749999,7.6305438359375,135.1732984375,7.7242408359375Q135.2669984375,7.8179358359375,135.2669984375,7.9517868359375L135.2669984375,11.1106718359375ZM142.0130984375,26.5838818359375Q140.38019843749998,26.5838818359375,139.1486984375,25.9547818359375Q137.9172984375,25.3256818359375,137.23469843750001,24.1878818359375Q136.5519984375,23.0501818359375,136.5519984375,21.604581835937502L136.5519984375,20.7746818359375Q136.5519984375,20.6408818359375,136.64569843750002,20.5471818359375Q136.7393984375,20.453481835937502,136.8732984375,20.453481835937502L140.6210984375,20.453481835937502Q140.7548984375,20.453481835937502,140.84859843750002,20.5471818359375Q140.9422984375,20.6408818359375,140.9422984375,20.7746818359375L140.9422984375,21.3904818359375Q140.9422984375,22.032881835937502,141.2501984375,22.407681835937503Q141.5579984375,22.7824818359375,142.0398984375,22.7824818359375Q142.5217984375,22.7824818359375,142.8295984375,22.4210818359375Q143.1374984375,22.0596818359375,143.1374984375,21.4974818359375Q143.1374984375,20.881781835937502,142.6555984375,20.3865818359375Q142.1737984375,19.891281835937498,140.7281984375,18.8472818359375Q139.3896984375,17.8835818359375,138.5329984375,17.1205818359375Q137.67639843749998,16.3576318359375,137.0605984375,15.219901835937499Q136.4448984375,14.0821618359375,136.4448984375,12.5830318359375Q136.4448984375,11.0571318359375,137.1275984375,9.8792418359375Q137.8101984375,8.7013518359375,139.0549984375,8.0588678359375Q140.2997984375,7.4163818359375,141.9059984375,7.4163818359375Q143.5389984375,7.4163818359375,144.7838984375,8.0722528359375Q146.0286984375,8.7281218359375,146.7112984375,9.9194018359375Q147.3939984375,11.1106718359375,147.3939984375,12.6633418359375L147.3939984375,13.3058318359375Q147.3939984375,13.439681835937499,147.3001984375,13.533371835937501Q147.20659843750002,13.6270718359375,147.07269843749998,13.6270718359375L143.3515984375,13.6270718359375Q143.2177984375,13.6270718359375,143.12409843749998,13.533371835937501Q143.0303984375,13.439681835937499,143.0303984375,13.3058318359375L143.0303984375,12.5562618359375Q143.0303984375,11.9673218359375,142.7091984375,11.5925318359375Q142.38789843749998,11.2177518359375,141.9059984375,11.2177518359375Q141.4241984375,11.2177518359375,141.1296984375,11.5925318359375Q140.8352984375,11.9673218359375,140.8352984375,12.5830318359375Q140.8352984375,13.2522918359375,141.29029843749998,13.787691835937501Q141.7453984375,14.3230918359375,143.1374984375,15.3403618359375Q144.8239984375,16.598561835937502,145.68069843749998,17.3749018359375Q146.5372984375,18.1512818359375,147.0191984375,19.101581835937502Q147.50099843750002,20.0518818359375,147.50099843750002,21.3368818359375Q147.50099843750002,23.7461818359375,145.9884984375,25.1650818359375Q144.47599843749998,26.5838818359375,142.0130984375,26.5838818359375ZM149.2677984375,26.3696818359375Q149.1339984375,26.3696818359375,149.04029843749998,26.2759818359375Q148.9465984375,26.1822818359375,148.9465984375,26.0484818359375L148.9465984375,7.9517868359375Q148.9465984375,7.8179358359375,149.04029843749998,7.7242408359375Q149.1339984375,7.6305438359375,149.2677984375,7.6305438359375L153.0691984375,7.6305438359375Q153.2030984375,7.6305438359375,153.2967984375,7.7242408359375Q153.3904984375,7.8179358359375,153.3904984375,7.9517868359375L153.3904984375,26.0484818359375Q153.3904984375,26.1822818359375,153.2967984375,26.2759818359375Q153.2030984375,26.3696818359375,153.0691984375,26.3696818359375L149.2677984375,26.3696818359375ZM160.6183984375,26.5838818359375Q158.07539843749998,26.5838818359375,156.5493984375,25.1516818359375Q155.02339843750002,23.7194818359375,155.02339843750002,21.310081835937503L155.02339843750002,12.6633418359375Q155.02339843750002,10.2540218359375,156.5493984375,8.8352018359375Q158.07539843749998,7.4163818359375,160.6183984375,7.4163818359375Q163.1613984375,7.4163818359375,164.70039843749998,8.8619718359375Q166.2403984375,10.3075618359375,166.2403984375,12.7168818359375L166.2403984375,13.7073818359375Q166.2403984375,13.8412318359375,166.1463984375,13.934931835937501Q166.05239843750002,14.0286218359375,165.9193984375,14.0286218359375L162.11739843750001,14.0286218359375Q161.9833984375,14.0286218359375,161.89039843749998,13.934931835937501Q161.7963984375,13.8412318359375,161.7963984375,13.7073818359375L161.7963984375,12.6633418359375Q161.7963984375,12.020861835937499,161.47539843750002,11.619301835937499Q161.15339843750002,11.2177518359375,160.6183984375,11.2177518359375Q160.1093984375,11.2177518359375,159.7883984375,11.619301835937499Q159.46739843749998,12.020861835937499,159.46739843749998,12.6633418359375L159.46739843749998,21.3368818359375Q159.46739843749998,21.979381835937502,159.7883984375,22.3808818359375Q160.1093984375,22.7824818359375,160.6183984375,22.7824818359375Q161.15339843750002,22.7824818359375,161.47539843750002,22.3808818359375Q161.7963984375,21.979381835937502,161.7963984375,21.3368818359375L161.7963984375,19.6235818359375Q161.7963984375,19.4897818359375,161.6623984375,19.4897818359375L160.9663984375,19.4897818359375Q160.8323984375,19.4897818359375,160.7383984375,19.3960818359375Q160.6453984375,19.3023818359375,160.6453984375,19.1684818359375L160.6453984375,16.330861835937498Q160.6453984375,16.197011835937502,160.7383984375,16.1033118359375Q160.8323984375,16.0096218359375,160.9663984375,16.0096218359375L165.9193984375,16.0096218359375Q166.05239843750002,16.0096218359375,166.1463984375,16.1033118359375Q166.2403984375,16.197011835937502,166.2403984375,16.330861835937498L166.2403984375,21.310081835937503Q166.2403984375,23.7194818359375,164.70039843749998,25.1516818359375Q163.1613984375,26.5838818359375,160.6183984375,26.5838818359375ZM175.6093984375,7.9517868359375Q175.6093984375,7.8179358359375,175.7033984375,7.7242408359375Q175.7973984375,7.6305438359375,175.93139843749998,7.6305438359375L179.6783984375,7.6305438359375Q179.8123984375,7.6305438359375,179.9063984375,7.7242408359375Q180.0003984375,7.8179358359375,180.0003984375,7.9517868359375L180.0003984375,26.0484818359375Q180.0003984375,26.1822818359375,179.9063984375,26.2759818359375Q179.8123984375,26.3696818359375,179.6783984375,26.3696818359375L175.4223984375,26.3696818359375Q175.1273984375,26.3696818359375,175.0473984375,26.1019818359375L172.3973984375,16.7859618359375Q172.3703984375,16.7056418359375,172.3033984375,16.6922618359375Q172.2363984375,16.6788718359375,172.2363984375,16.7859618359375L172.29039843750002,26.0484818359375Q172.29039843750002,26.1822818359375,172.1963984375,26.2759818359375Q172.1023984375,26.3696818359375,171.9693984375,26.3696818359375L168.2213984375,26.3696818359375Q168.08739843749998,26.3696818359375,167.9933984375,26.2759818359375Q167.9003984375,26.1822818359375,167.9003984375,26.0484818359375L167.9003984375,7.9517868359375Q167.9003984375,7.8179358359375,167.9933984375,7.7242408359375Q168.08739843749998,7.6305438359375,168.2213984375,7.6305438359375L172.4243984375,7.6305438359375Q172.7183984375,7.6305438359375,172.7983984375,7.8982468359375L175.47539843750002,17.2678218359375Q175.5023984375,17.3481318359375,175.5693984375,17.3481318359375Q175.63639843750002,17.3481318359375,175.63639843750002,17.241051835937498L175.6093984375,7.9517868359375Z" fill="#262626" fill-opacity="1"/></g></g></svg>')


const bntdata = [
    { label: t('miniprogram.home'), value: 'home', icon: { normal: 'mhome-normal', select: 'mhome-select' } },
    { label: t('miniprogram.my_file'), value: 'file', icon: { normal: 'mfiles-normal', select: 'mfiles-select' } },
    { label: t('miniprogram.team'), value: 'team', icon: { normal: 'mteam-normal', select: 'mteam-select' } },
    { label: t('miniprogram.about'), value: 'about', icon: { normal: 'mabout-normal', select: 'mabout-select' } },
]

const total = computed(() => {
    return applynum.value + teamnum.value ?? 99;
})

const changetab = (tab: string) => {
    activebnt.value = tab;
    router.push({ name: tab })
}

watch(() => route.name, (name) => {
    activebnt.value = name as string
})

let timer: any = null
onMounted(() => {

    timer = setInterval(() => {
        getApplyFile();
        getApplyTeam();
        getApplyProject();
        getNoticeTeam();
        getNoticeProject();
    }, 60000)
})

onUnmounted(() => {
    clearInterval(timer)
})

</script>

<style lang="scss" scoped>
.num {
    position: relative;
    font-size: 10px;
    top: -8px;
    left: 8px;
    min-width: 14px;
    min-height: 14px;
    background-color: red;
    color: #fff;
    border-radius: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.after::after {
    content: '+';
    position: absolute;
    display: block;
    top: -4px;
    left: 16px;
    color: #fff;
}

.search-list {
    position: absolute;
    top: 98px;
    left: 0;
    width: 100%;
    height: calc(100% - 98px);
    padding: 0 14px;
    box-sizing: border-box;
    background-color: #FAFAFA;
    z-index: 1;
}

.bnt-selct {
    color: #262626 !important;
}

.container {
    position: relative;
    height: 100%;
    width: 100%;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
    background-color: #FAFAFA;
    overflow: hidden;

    .header {
        display: flex;
        align-items: center;
        width: 100%;
        min-height: 44px;
        position: sticky;
        top: 0;
        background-color: #FAFAFA;
        box-sizing: border-box;
        z-index: 1;

        img {
            margin-left: 14px;
            height: 34px;
        }
    }

    .main {
        flex: 1;
        overflow: hidden;
        position: relative;

        .search {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 14px;
            padding: 0 14px;
            position: sticky;
            width: 100%;
            height: 54px;
            background-color: #FAFAFA;
            box-sizing: border-box;
            z-index: 1;

            .search-input {
                flex: 80%;
                display: flex;
                align-items: center;
                height: 34px;
                border-radius: 8px;
                background: #FFFFFF;
                box-sizing: border-box;
                border: 1px solid #F5F5F5;

                &:focus-within {
                    border-color: rgba(24, 120, 245, 1);
                }

                .s-header,
                .s-footer {
                    width: 16px;
                    height: 16px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    margin: 0 8px;

                    svg {
                        width: 100%;
                        height: 100%;
                    }

                }

                input {
                    flex: 1;
                    height: 100%;
                    outline: none;
                    border: none;
                    background-color: initial;
                    padding: 0;
                    box-sizing: border-box;
                }
            }

            .notice {
                position: relative;
                display: flex;
                align-items: center;
                justify-content: center;
                width: 32px;
                height: 32px;

                svg {
                    position: absolute;
                    width: 24px;
                    height: 24px;
                }
            }

        }


        .content {
            position: relative;
            height: calc(100% - 54px)
        }
    }



    .footer {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        position: sticky;
        bottom: 0;
        min-height: 72px;
        font-size: 12px;
        font-weight: 500;
        background-color: #FFFFFF;
        color: #BFBFBF;
        border-width: 1px 0px 0px 0px;
        border-style: solid;
        border-color: #F1F2F2;
        padding: 6px 0 0 0;
        box-sizing: border-box;

        .bnt {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;

            .icon {
                width: 24px;
                height: 24px;

                svg {
                    width: 100%;
                    height: 100%;
                }
            }

        }
    }
}
</style>
