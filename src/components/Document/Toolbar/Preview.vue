<script setup lang="ts">
import { useI18n } from 'vue-i18n';
import Tooltip from '@/components/common/Tooltip.vue';
import { Context } from '@/context';
import { useRoute } from 'vue-router';
import { router } from '@/router';
import { open_preview } from '@/utils/preview';
import { ShapeType } from '@kcdesign/data';
const { t } = useI18n()
const props = defineProps<{
    context: Context
}>();
const route = useRoute();
const preview = () => {
    const selected = props.context.selection.selectedShapes;
    const artboard = selected.find(item => item.type === ShapeType.Artboard || item.type === ShapeType.Symbol || item.type === ShapeType.SymbolRef);
    open_preview(route.query.id as string, props.context, artboard?.id);
}
</script>

<template>
     <Tooltip :content="t('navi.comps')">
        <div class="preview" @click="preview">
            <svg-icon icon-class="preview"></svg-icon>
        </div>
    </Tooltip>
</template>

<style scoped lang="scss">
.preview {
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: 4px;
    >svg {
        width: 16px;
        height: 16px;
    }
}
</style>